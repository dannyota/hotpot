// Code generated by ent, DO NOT EDIT.

package ent

import (
	"context"
	"encoding/json"
	"errors"
	"fmt"
	"time"

	"entgo.io/ent/dialect/sql"
	"entgo.io/ent/dialect/sql/sqlgraph"
	"entgo.io/ent/dialect/sql/sqljson"
	"entgo.io/ent/schema/field"
	"github.com/dannyota/hotpot/pkg/storage/ent/bronzegcpstoragebucket"
	"github.com/dannyota/hotpot/pkg/storage/ent/bronzegcpstoragebucketlabel"
	"github.com/dannyota/hotpot/pkg/storage/ent/internal"
	"github.com/dannyota/hotpot/pkg/storage/ent/predicate"
)

// BronzeGCPStorageBucketUpdate is the builder for updating BronzeGCPStorageBucket entities.
type BronzeGCPStorageBucketUpdate struct {
	config
	hooks    []Hook
	mutation *BronzeGCPStorageBucketMutation
}

// Where appends a list predicates to the BronzeGCPStorageBucketUpdate builder.
func (_u *BronzeGCPStorageBucketUpdate) Where(ps ...predicate.BronzeGCPStorageBucket) *BronzeGCPStorageBucketUpdate {
	_u.mutation.Where(ps...)
	return _u
}

// SetCollectedAt sets the "collected_at" field.
func (_u *BronzeGCPStorageBucketUpdate) SetCollectedAt(v time.Time) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetCollectedAt(v)
	return _u
}

// SetNillableCollectedAt sets the "collected_at" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdate) SetNillableCollectedAt(v *time.Time) *BronzeGCPStorageBucketUpdate {
	if v != nil {
		_u.SetCollectedAt(*v)
	}
	return _u
}

// SetName sets the "name" field.
func (_u *BronzeGCPStorageBucketUpdate) SetName(v string) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetName(v)
	return _u
}

// SetNillableName sets the "name" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdate) SetNillableName(v *string) *BronzeGCPStorageBucketUpdate {
	if v != nil {
		_u.SetName(*v)
	}
	return _u
}

// SetLocation sets the "location" field.
func (_u *BronzeGCPStorageBucketUpdate) SetLocation(v string) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetLocation(v)
	return _u
}

// SetNillableLocation sets the "location" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdate) SetNillableLocation(v *string) *BronzeGCPStorageBucketUpdate {
	if v != nil {
		_u.SetLocation(*v)
	}
	return _u
}

// ClearLocation clears the value of the "location" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearLocation() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearLocation()
	return _u
}

// SetStorageClass sets the "storage_class" field.
func (_u *BronzeGCPStorageBucketUpdate) SetStorageClass(v string) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetStorageClass(v)
	return _u
}

// SetNillableStorageClass sets the "storage_class" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdate) SetNillableStorageClass(v *string) *BronzeGCPStorageBucketUpdate {
	if v != nil {
		_u.SetStorageClass(*v)
	}
	return _u
}

// ClearStorageClass clears the value of the "storage_class" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearStorageClass() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearStorageClass()
	return _u
}

// SetProjectNumber sets the "project_number" field.
func (_u *BronzeGCPStorageBucketUpdate) SetProjectNumber(v string) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetProjectNumber(v)
	return _u
}

// SetNillableProjectNumber sets the "project_number" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdate) SetNillableProjectNumber(v *string) *BronzeGCPStorageBucketUpdate {
	if v != nil {
		_u.SetProjectNumber(*v)
	}
	return _u
}

// ClearProjectNumber clears the value of the "project_number" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearProjectNumber() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearProjectNumber()
	return _u
}

// SetTimeCreated sets the "time_created" field.
func (_u *BronzeGCPStorageBucketUpdate) SetTimeCreated(v string) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetTimeCreated(v)
	return _u
}

// SetNillableTimeCreated sets the "time_created" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdate) SetNillableTimeCreated(v *string) *BronzeGCPStorageBucketUpdate {
	if v != nil {
		_u.SetTimeCreated(*v)
	}
	return _u
}

// ClearTimeCreated clears the value of the "time_created" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearTimeCreated() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearTimeCreated()
	return _u
}

// SetUpdated sets the "updated" field.
func (_u *BronzeGCPStorageBucketUpdate) SetUpdated(v string) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetUpdated(v)
	return _u
}

// SetNillableUpdated sets the "updated" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdate) SetNillableUpdated(v *string) *BronzeGCPStorageBucketUpdate {
	if v != nil {
		_u.SetUpdated(*v)
	}
	return _u
}

// ClearUpdated clears the value of the "updated" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearUpdated() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearUpdated()
	return _u
}

// SetDefaultEventBasedHold sets the "default_event_based_hold" field.
func (_u *BronzeGCPStorageBucketUpdate) SetDefaultEventBasedHold(v bool) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetDefaultEventBasedHold(v)
	return _u
}

// SetNillableDefaultEventBasedHold sets the "default_event_based_hold" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdate) SetNillableDefaultEventBasedHold(v *bool) *BronzeGCPStorageBucketUpdate {
	if v != nil {
		_u.SetDefaultEventBasedHold(*v)
	}
	return _u
}

// SetMetageneration sets the "metageneration" field.
func (_u *BronzeGCPStorageBucketUpdate) SetMetageneration(v string) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetMetageneration(v)
	return _u
}

// SetNillableMetageneration sets the "metageneration" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdate) SetNillableMetageneration(v *string) *BronzeGCPStorageBucketUpdate {
	if v != nil {
		_u.SetMetageneration(*v)
	}
	return _u
}

// ClearMetageneration clears the value of the "metageneration" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearMetageneration() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearMetageneration()
	return _u
}

// SetEtag sets the "etag" field.
func (_u *BronzeGCPStorageBucketUpdate) SetEtag(v string) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetEtag(v)
	return _u
}

// SetNillableEtag sets the "etag" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdate) SetNillableEtag(v *string) *BronzeGCPStorageBucketUpdate {
	if v != nil {
		_u.SetEtag(*v)
	}
	return _u
}

// ClearEtag clears the value of the "etag" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearEtag() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearEtag()
	return _u
}

// SetIamConfigurationJSON sets the "iam_configuration_json" field.
func (_u *BronzeGCPStorageBucketUpdate) SetIamConfigurationJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetIamConfigurationJSON(v)
	return _u
}

// AppendIamConfigurationJSON appends value to the "iam_configuration_json" field.
func (_u *BronzeGCPStorageBucketUpdate) AppendIamConfigurationJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.AppendIamConfigurationJSON(v)
	return _u
}

// ClearIamConfigurationJSON clears the value of the "iam_configuration_json" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearIamConfigurationJSON() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearIamConfigurationJSON()
	return _u
}

// SetEncryptionJSON sets the "encryption_json" field.
func (_u *BronzeGCPStorageBucketUpdate) SetEncryptionJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetEncryptionJSON(v)
	return _u
}

// AppendEncryptionJSON appends value to the "encryption_json" field.
func (_u *BronzeGCPStorageBucketUpdate) AppendEncryptionJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.AppendEncryptionJSON(v)
	return _u
}

// ClearEncryptionJSON clears the value of the "encryption_json" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearEncryptionJSON() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearEncryptionJSON()
	return _u
}

// SetLifecycleJSON sets the "lifecycle_json" field.
func (_u *BronzeGCPStorageBucketUpdate) SetLifecycleJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetLifecycleJSON(v)
	return _u
}

// AppendLifecycleJSON appends value to the "lifecycle_json" field.
func (_u *BronzeGCPStorageBucketUpdate) AppendLifecycleJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.AppendLifecycleJSON(v)
	return _u
}

// ClearLifecycleJSON clears the value of the "lifecycle_json" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearLifecycleJSON() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearLifecycleJSON()
	return _u
}

// SetVersioningJSON sets the "versioning_json" field.
func (_u *BronzeGCPStorageBucketUpdate) SetVersioningJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetVersioningJSON(v)
	return _u
}

// AppendVersioningJSON appends value to the "versioning_json" field.
func (_u *BronzeGCPStorageBucketUpdate) AppendVersioningJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.AppendVersioningJSON(v)
	return _u
}

// ClearVersioningJSON clears the value of the "versioning_json" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearVersioningJSON() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearVersioningJSON()
	return _u
}

// SetRetentionPolicyJSON sets the "retention_policy_json" field.
func (_u *BronzeGCPStorageBucketUpdate) SetRetentionPolicyJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetRetentionPolicyJSON(v)
	return _u
}

// AppendRetentionPolicyJSON appends value to the "retention_policy_json" field.
func (_u *BronzeGCPStorageBucketUpdate) AppendRetentionPolicyJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.AppendRetentionPolicyJSON(v)
	return _u
}

// ClearRetentionPolicyJSON clears the value of the "retention_policy_json" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearRetentionPolicyJSON() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearRetentionPolicyJSON()
	return _u
}

// SetLoggingJSON sets the "logging_json" field.
func (_u *BronzeGCPStorageBucketUpdate) SetLoggingJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetLoggingJSON(v)
	return _u
}

// AppendLoggingJSON appends value to the "logging_json" field.
func (_u *BronzeGCPStorageBucketUpdate) AppendLoggingJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.AppendLoggingJSON(v)
	return _u
}

// ClearLoggingJSON clears the value of the "logging_json" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearLoggingJSON() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearLoggingJSON()
	return _u
}

// SetCorsJSON sets the "cors_json" field.
func (_u *BronzeGCPStorageBucketUpdate) SetCorsJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetCorsJSON(v)
	return _u
}

// AppendCorsJSON appends value to the "cors_json" field.
func (_u *BronzeGCPStorageBucketUpdate) AppendCorsJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.AppendCorsJSON(v)
	return _u
}

// ClearCorsJSON clears the value of the "cors_json" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearCorsJSON() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearCorsJSON()
	return _u
}

// SetWebsiteJSON sets the "website_json" field.
func (_u *BronzeGCPStorageBucketUpdate) SetWebsiteJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetWebsiteJSON(v)
	return _u
}

// AppendWebsiteJSON appends value to the "website_json" field.
func (_u *BronzeGCPStorageBucketUpdate) AppendWebsiteJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.AppendWebsiteJSON(v)
	return _u
}

// ClearWebsiteJSON clears the value of the "website_json" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearWebsiteJSON() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearWebsiteJSON()
	return _u
}

// SetAutoclassJSON sets the "autoclass_json" field.
func (_u *BronzeGCPStorageBucketUpdate) SetAutoclassJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetAutoclassJSON(v)
	return _u
}

// AppendAutoclassJSON appends value to the "autoclass_json" field.
func (_u *BronzeGCPStorageBucketUpdate) AppendAutoclassJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdate {
	_u.mutation.AppendAutoclassJSON(v)
	return _u
}

// ClearAutoclassJSON clears the value of the "autoclass_json" field.
func (_u *BronzeGCPStorageBucketUpdate) ClearAutoclassJSON() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearAutoclassJSON()
	return _u
}

// SetProjectID sets the "project_id" field.
func (_u *BronzeGCPStorageBucketUpdate) SetProjectID(v string) *BronzeGCPStorageBucketUpdate {
	_u.mutation.SetProjectID(v)
	return _u
}

// SetNillableProjectID sets the "project_id" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdate) SetNillableProjectID(v *string) *BronzeGCPStorageBucketUpdate {
	if v != nil {
		_u.SetProjectID(*v)
	}
	return _u
}

// AddLabelIDs adds the "labels" edge to the BronzeGCPStorageBucketLabel entity by IDs.
func (_u *BronzeGCPStorageBucketUpdate) AddLabelIDs(ids ...int) *BronzeGCPStorageBucketUpdate {
	_u.mutation.AddLabelIDs(ids...)
	return _u
}

// AddLabels adds the "labels" edges to the BronzeGCPStorageBucketLabel entity.
func (_u *BronzeGCPStorageBucketUpdate) AddLabels(v ...*BronzeGCPStorageBucketLabel) *BronzeGCPStorageBucketUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddLabelIDs(ids...)
}

// Mutation returns the BronzeGCPStorageBucketMutation object of the builder.
func (_u *BronzeGCPStorageBucketUpdate) Mutation() *BronzeGCPStorageBucketMutation {
	return _u.mutation
}

// ClearLabels clears all "labels" edges to the BronzeGCPStorageBucketLabel entity.
func (_u *BronzeGCPStorageBucketUpdate) ClearLabels() *BronzeGCPStorageBucketUpdate {
	_u.mutation.ClearLabels()
	return _u
}

// RemoveLabelIDs removes the "labels" edge to BronzeGCPStorageBucketLabel entities by IDs.
func (_u *BronzeGCPStorageBucketUpdate) RemoveLabelIDs(ids ...int) *BronzeGCPStorageBucketUpdate {
	_u.mutation.RemoveLabelIDs(ids...)
	return _u
}

// RemoveLabels removes "labels" edges to BronzeGCPStorageBucketLabel entities.
func (_u *BronzeGCPStorageBucketUpdate) RemoveLabels(v ...*BronzeGCPStorageBucketLabel) *BronzeGCPStorageBucketUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveLabelIDs(ids...)
}

// Save executes the query and returns the number of nodes affected by the update operation.
func (_u *BronzeGCPStorageBucketUpdate) Save(ctx context.Context) (int, error) {
	return withHooks(ctx, _u.sqlSave, _u.mutation, _u.hooks)
}

// SaveX is like Save, but panics if an error occurs.
func (_u *BronzeGCPStorageBucketUpdate) SaveX(ctx context.Context) int {
	affected, err := _u.Save(ctx)
	if err != nil {
		panic(err)
	}
	return affected
}

// Exec executes the query.
func (_u *BronzeGCPStorageBucketUpdate) Exec(ctx context.Context) error {
	_, err := _u.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_u *BronzeGCPStorageBucketUpdate) ExecX(ctx context.Context) {
	if err := _u.Exec(ctx); err != nil {
		panic(err)
	}
}

// check runs all checks and user-defined validators on the builder.
func (_u *BronzeGCPStorageBucketUpdate) check() error {
	if v, ok := _u.mutation.Name(); ok {
		if err := bronzegcpstoragebucket.NameValidator(v); err != nil {
			return &ValidationError{Name: "name", err: fmt.Errorf(`ent: validator failed for field "BronzeGCPStorageBucket.name": %w`, err)}
		}
	}
	if v, ok := _u.mutation.ProjectID(); ok {
		if err := bronzegcpstoragebucket.ProjectIDValidator(v); err != nil {
			return &ValidationError{Name: "project_id", err: fmt.Errorf(`ent: validator failed for field "BronzeGCPStorageBucket.project_id": %w`, err)}
		}
	}
	return nil
}

func (_u *BronzeGCPStorageBucketUpdate) sqlSave(ctx context.Context) (_node int, err error) {
	if err := _u.check(); err != nil {
		return _node, err
	}
	_spec := sqlgraph.NewUpdateSpec(bronzegcpstoragebucket.Table, bronzegcpstoragebucket.Columns, sqlgraph.NewFieldSpec(bronzegcpstoragebucket.FieldID, field.TypeString))
	if ps := _u.mutation.predicates; len(ps) > 0 {
		_spec.Predicate = func(selector *sql.Selector) {
			for i := range ps {
				ps[i](selector)
			}
		}
	}
	if value, ok := _u.mutation.CollectedAt(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldCollectedAt, field.TypeTime, value)
	}
	if value, ok := _u.mutation.Name(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldName, field.TypeString, value)
	}
	if value, ok := _u.mutation.Location(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldLocation, field.TypeString, value)
	}
	if _u.mutation.LocationCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldLocation, field.TypeString)
	}
	if value, ok := _u.mutation.StorageClass(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldStorageClass, field.TypeString, value)
	}
	if _u.mutation.StorageClassCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldStorageClass, field.TypeString)
	}
	if value, ok := _u.mutation.ProjectNumber(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldProjectNumber, field.TypeString, value)
	}
	if _u.mutation.ProjectNumberCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldProjectNumber, field.TypeString)
	}
	if value, ok := _u.mutation.TimeCreated(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldTimeCreated, field.TypeString, value)
	}
	if _u.mutation.TimeCreatedCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldTimeCreated, field.TypeString)
	}
	if value, ok := _u.mutation.Updated(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldUpdated, field.TypeString, value)
	}
	if _u.mutation.UpdatedCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldUpdated, field.TypeString)
	}
	if value, ok := _u.mutation.DefaultEventBasedHold(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldDefaultEventBasedHold, field.TypeBool, value)
	}
	if value, ok := _u.mutation.Metageneration(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldMetageneration, field.TypeString, value)
	}
	if _u.mutation.MetagenerationCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldMetageneration, field.TypeString)
	}
	if value, ok := _u.mutation.Etag(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldEtag, field.TypeString, value)
	}
	if _u.mutation.EtagCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldEtag, field.TypeString)
	}
	if value, ok := _u.mutation.IamConfigurationJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldIamConfigurationJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedIamConfigurationJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldIamConfigurationJSON, value)
		})
	}
	if _u.mutation.IamConfigurationJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldIamConfigurationJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.EncryptionJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldEncryptionJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedEncryptionJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldEncryptionJSON, value)
		})
	}
	if _u.mutation.EncryptionJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldEncryptionJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.LifecycleJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldLifecycleJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedLifecycleJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldLifecycleJSON, value)
		})
	}
	if _u.mutation.LifecycleJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldLifecycleJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.VersioningJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldVersioningJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedVersioningJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldVersioningJSON, value)
		})
	}
	if _u.mutation.VersioningJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldVersioningJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.RetentionPolicyJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldRetentionPolicyJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedRetentionPolicyJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldRetentionPolicyJSON, value)
		})
	}
	if _u.mutation.RetentionPolicyJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldRetentionPolicyJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.LoggingJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldLoggingJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedLoggingJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldLoggingJSON, value)
		})
	}
	if _u.mutation.LoggingJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldLoggingJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.CorsJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldCorsJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedCorsJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldCorsJSON, value)
		})
	}
	if _u.mutation.CorsJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldCorsJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.WebsiteJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldWebsiteJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedWebsiteJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldWebsiteJSON, value)
		})
	}
	if _u.mutation.WebsiteJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldWebsiteJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.AutoclassJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldAutoclassJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedAutoclassJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldAutoclassJSON, value)
		})
	}
	if _u.mutation.AutoclassJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldAutoclassJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.ProjectID(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldProjectID, field.TypeString, value)
	}
	if _u.mutation.LabelsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   bronzegcpstoragebucket.LabelsTable,
			Columns: []string{bronzegcpstoragebucket.LabelsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(bronzegcpstoragebucketlabel.FieldID, field.TypeInt),
			},
		}
		edge.Schema = _u.schemaConfig.BronzeGCPStorageBucketLabel
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedLabelsIDs(); len(nodes) > 0 && !_u.mutation.LabelsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   bronzegcpstoragebucket.LabelsTable,
			Columns: []string{bronzegcpstoragebucket.LabelsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(bronzegcpstoragebucketlabel.FieldID, field.TypeInt),
			},
		}
		edge.Schema = _u.schemaConfig.BronzeGCPStorageBucketLabel
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.LabelsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   bronzegcpstoragebucket.LabelsTable,
			Columns: []string{bronzegcpstoragebucket.LabelsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(bronzegcpstoragebucketlabel.FieldID, field.TypeInt),
			},
		}
		edge.Schema = _u.schemaConfig.BronzeGCPStorageBucketLabel
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	_spec.Node.Schema = _u.schemaConfig.BronzeGCPStorageBucket
	ctx = internal.NewSchemaConfigContext(ctx, _u.schemaConfig)
	if _node, err = sqlgraph.UpdateNodes(ctx, _u.driver, _spec); err != nil {
		if _, ok := err.(*sqlgraph.NotFoundError); ok {
			err = &NotFoundError{bronzegcpstoragebucket.Label}
		} else if sqlgraph.IsConstraintError(err) {
			err = &ConstraintError{msg: err.Error(), wrap: err}
		}
		return 0, err
	}
	_u.mutation.done = true
	return _node, nil
}

// BronzeGCPStorageBucketUpdateOne is the builder for updating a single BronzeGCPStorageBucket entity.
type BronzeGCPStorageBucketUpdateOne struct {
	config
	fields   []string
	hooks    []Hook
	mutation *BronzeGCPStorageBucketMutation
}

// SetCollectedAt sets the "collected_at" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetCollectedAt(v time.Time) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetCollectedAt(v)
	return _u
}

// SetNillableCollectedAt sets the "collected_at" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdateOne) SetNillableCollectedAt(v *time.Time) *BronzeGCPStorageBucketUpdateOne {
	if v != nil {
		_u.SetCollectedAt(*v)
	}
	return _u
}

// SetName sets the "name" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetName(v string) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetName(v)
	return _u
}

// SetNillableName sets the "name" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdateOne) SetNillableName(v *string) *BronzeGCPStorageBucketUpdateOne {
	if v != nil {
		_u.SetName(*v)
	}
	return _u
}

// SetLocation sets the "location" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetLocation(v string) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetLocation(v)
	return _u
}

// SetNillableLocation sets the "location" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdateOne) SetNillableLocation(v *string) *BronzeGCPStorageBucketUpdateOne {
	if v != nil {
		_u.SetLocation(*v)
	}
	return _u
}

// ClearLocation clears the value of the "location" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearLocation() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearLocation()
	return _u
}

// SetStorageClass sets the "storage_class" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetStorageClass(v string) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetStorageClass(v)
	return _u
}

// SetNillableStorageClass sets the "storage_class" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdateOne) SetNillableStorageClass(v *string) *BronzeGCPStorageBucketUpdateOne {
	if v != nil {
		_u.SetStorageClass(*v)
	}
	return _u
}

// ClearStorageClass clears the value of the "storage_class" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearStorageClass() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearStorageClass()
	return _u
}

// SetProjectNumber sets the "project_number" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetProjectNumber(v string) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetProjectNumber(v)
	return _u
}

// SetNillableProjectNumber sets the "project_number" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdateOne) SetNillableProjectNumber(v *string) *BronzeGCPStorageBucketUpdateOne {
	if v != nil {
		_u.SetProjectNumber(*v)
	}
	return _u
}

// ClearProjectNumber clears the value of the "project_number" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearProjectNumber() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearProjectNumber()
	return _u
}

// SetTimeCreated sets the "time_created" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetTimeCreated(v string) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetTimeCreated(v)
	return _u
}

// SetNillableTimeCreated sets the "time_created" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdateOne) SetNillableTimeCreated(v *string) *BronzeGCPStorageBucketUpdateOne {
	if v != nil {
		_u.SetTimeCreated(*v)
	}
	return _u
}

// ClearTimeCreated clears the value of the "time_created" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearTimeCreated() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearTimeCreated()
	return _u
}

// SetUpdated sets the "updated" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetUpdated(v string) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetUpdated(v)
	return _u
}

// SetNillableUpdated sets the "updated" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdateOne) SetNillableUpdated(v *string) *BronzeGCPStorageBucketUpdateOne {
	if v != nil {
		_u.SetUpdated(*v)
	}
	return _u
}

// ClearUpdated clears the value of the "updated" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearUpdated() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearUpdated()
	return _u
}

// SetDefaultEventBasedHold sets the "default_event_based_hold" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetDefaultEventBasedHold(v bool) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetDefaultEventBasedHold(v)
	return _u
}

// SetNillableDefaultEventBasedHold sets the "default_event_based_hold" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdateOne) SetNillableDefaultEventBasedHold(v *bool) *BronzeGCPStorageBucketUpdateOne {
	if v != nil {
		_u.SetDefaultEventBasedHold(*v)
	}
	return _u
}

// SetMetageneration sets the "metageneration" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetMetageneration(v string) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetMetageneration(v)
	return _u
}

// SetNillableMetageneration sets the "metageneration" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdateOne) SetNillableMetageneration(v *string) *BronzeGCPStorageBucketUpdateOne {
	if v != nil {
		_u.SetMetageneration(*v)
	}
	return _u
}

// ClearMetageneration clears the value of the "metageneration" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearMetageneration() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearMetageneration()
	return _u
}

// SetEtag sets the "etag" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetEtag(v string) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetEtag(v)
	return _u
}

// SetNillableEtag sets the "etag" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdateOne) SetNillableEtag(v *string) *BronzeGCPStorageBucketUpdateOne {
	if v != nil {
		_u.SetEtag(*v)
	}
	return _u
}

// ClearEtag clears the value of the "etag" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearEtag() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearEtag()
	return _u
}

// SetIamConfigurationJSON sets the "iam_configuration_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetIamConfigurationJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetIamConfigurationJSON(v)
	return _u
}

// AppendIamConfigurationJSON appends value to the "iam_configuration_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) AppendIamConfigurationJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.AppendIamConfigurationJSON(v)
	return _u
}

// ClearIamConfigurationJSON clears the value of the "iam_configuration_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearIamConfigurationJSON() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearIamConfigurationJSON()
	return _u
}

// SetEncryptionJSON sets the "encryption_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetEncryptionJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetEncryptionJSON(v)
	return _u
}

// AppendEncryptionJSON appends value to the "encryption_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) AppendEncryptionJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.AppendEncryptionJSON(v)
	return _u
}

// ClearEncryptionJSON clears the value of the "encryption_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearEncryptionJSON() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearEncryptionJSON()
	return _u
}

// SetLifecycleJSON sets the "lifecycle_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetLifecycleJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetLifecycleJSON(v)
	return _u
}

// AppendLifecycleJSON appends value to the "lifecycle_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) AppendLifecycleJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.AppendLifecycleJSON(v)
	return _u
}

// ClearLifecycleJSON clears the value of the "lifecycle_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearLifecycleJSON() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearLifecycleJSON()
	return _u
}

// SetVersioningJSON sets the "versioning_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetVersioningJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetVersioningJSON(v)
	return _u
}

// AppendVersioningJSON appends value to the "versioning_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) AppendVersioningJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.AppendVersioningJSON(v)
	return _u
}

// ClearVersioningJSON clears the value of the "versioning_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearVersioningJSON() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearVersioningJSON()
	return _u
}

// SetRetentionPolicyJSON sets the "retention_policy_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetRetentionPolicyJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetRetentionPolicyJSON(v)
	return _u
}

// AppendRetentionPolicyJSON appends value to the "retention_policy_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) AppendRetentionPolicyJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.AppendRetentionPolicyJSON(v)
	return _u
}

// ClearRetentionPolicyJSON clears the value of the "retention_policy_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearRetentionPolicyJSON() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearRetentionPolicyJSON()
	return _u
}

// SetLoggingJSON sets the "logging_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetLoggingJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetLoggingJSON(v)
	return _u
}

// AppendLoggingJSON appends value to the "logging_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) AppendLoggingJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.AppendLoggingJSON(v)
	return _u
}

// ClearLoggingJSON clears the value of the "logging_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearLoggingJSON() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearLoggingJSON()
	return _u
}

// SetCorsJSON sets the "cors_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetCorsJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetCorsJSON(v)
	return _u
}

// AppendCorsJSON appends value to the "cors_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) AppendCorsJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.AppendCorsJSON(v)
	return _u
}

// ClearCorsJSON clears the value of the "cors_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearCorsJSON() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearCorsJSON()
	return _u
}

// SetWebsiteJSON sets the "website_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetWebsiteJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetWebsiteJSON(v)
	return _u
}

// AppendWebsiteJSON appends value to the "website_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) AppendWebsiteJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.AppendWebsiteJSON(v)
	return _u
}

// ClearWebsiteJSON clears the value of the "website_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearWebsiteJSON() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearWebsiteJSON()
	return _u
}

// SetAutoclassJSON sets the "autoclass_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetAutoclassJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetAutoclassJSON(v)
	return _u
}

// AppendAutoclassJSON appends value to the "autoclass_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) AppendAutoclassJSON(v json.RawMessage) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.AppendAutoclassJSON(v)
	return _u
}

// ClearAutoclassJSON clears the value of the "autoclass_json" field.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearAutoclassJSON() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearAutoclassJSON()
	return _u
}

// SetProjectID sets the "project_id" field.
func (_u *BronzeGCPStorageBucketUpdateOne) SetProjectID(v string) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.SetProjectID(v)
	return _u
}

// SetNillableProjectID sets the "project_id" field if the given value is not nil.
func (_u *BronzeGCPStorageBucketUpdateOne) SetNillableProjectID(v *string) *BronzeGCPStorageBucketUpdateOne {
	if v != nil {
		_u.SetProjectID(*v)
	}
	return _u
}

// AddLabelIDs adds the "labels" edge to the BronzeGCPStorageBucketLabel entity by IDs.
func (_u *BronzeGCPStorageBucketUpdateOne) AddLabelIDs(ids ...int) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.AddLabelIDs(ids...)
	return _u
}

// AddLabels adds the "labels" edges to the BronzeGCPStorageBucketLabel entity.
func (_u *BronzeGCPStorageBucketUpdateOne) AddLabels(v ...*BronzeGCPStorageBucketLabel) *BronzeGCPStorageBucketUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddLabelIDs(ids...)
}

// Mutation returns the BronzeGCPStorageBucketMutation object of the builder.
func (_u *BronzeGCPStorageBucketUpdateOne) Mutation() *BronzeGCPStorageBucketMutation {
	return _u.mutation
}

// ClearLabels clears all "labels" edges to the BronzeGCPStorageBucketLabel entity.
func (_u *BronzeGCPStorageBucketUpdateOne) ClearLabels() *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.ClearLabels()
	return _u
}

// RemoveLabelIDs removes the "labels" edge to BronzeGCPStorageBucketLabel entities by IDs.
func (_u *BronzeGCPStorageBucketUpdateOne) RemoveLabelIDs(ids ...int) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.RemoveLabelIDs(ids...)
	return _u
}

// RemoveLabels removes "labels" edges to BronzeGCPStorageBucketLabel entities.
func (_u *BronzeGCPStorageBucketUpdateOne) RemoveLabels(v ...*BronzeGCPStorageBucketLabel) *BronzeGCPStorageBucketUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveLabelIDs(ids...)
}

// Where appends a list predicates to the BronzeGCPStorageBucketUpdate builder.
func (_u *BronzeGCPStorageBucketUpdateOne) Where(ps ...predicate.BronzeGCPStorageBucket) *BronzeGCPStorageBucketUpdateOne {
	_u.mutation.Where(ps...)
	return _u
}

// Select allows selecting one or more fields (columns) of the returned entity.
// The default is selecting all fields defined in the entity schema.
func (_u *BronzeGCPStorageBucketUpdateOne) Select(field string, fields ...string) *BronzeGCPStorageBucketUpdateOne {
	_u.fields = append([]string{field}, fields...)
	return _u
}

// Save executes the query and returns the updated BronzeGCPStorageBucket entity.
func (_u *BronzeGCPStorageBucketUpdateOne) Save(ctx context.Context) (*BronzeGCPStorageBucket, error) {
	return withHooks(ctx, _u.sqlSave, _u.mutation, _u.hooks)
}

// SaveX is like Save, but panics if an error occurs.
func (_u *BronzeGCPStorageBucketUpdateOne) SaveX(ctx context.Context) *BronzeGCPStorageBucket {
	node, err := _u.Save(ctx)
	if err != nil {
		panic(err)
	}
	return node
}

// Exec executes the query on the entity.
func (_u *BronzeGCPStorageBucketUpdateOne) Exec(ctx context.Context) error {
	_, err := _u.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_u *BronzeGCPStorageBucketUpdateOne) ExecX(ctx context.Context) {
	if err := _u.Exec(ctx); err != nil {
		panic(err)
	}
}

// check runs all checks and user-defined validators on the builder.
func (_u *BronzeGCPStorageBucketUpdateOne) check() error {
	if v, ok := _u.mutation.Name(); ok {
		if err := bronzegcpstoragebucket.NameValidator(v); err != nil {
			return &ValidationError{Name: "name", err: fmt.Errorf(`ent: validator failed for field "BronzeGCPStorageBucket.name": %w`, err)}
		}
	}
	if v, ok := _u.mutation.ProjectID(); ok {
		if err := bronzegcpstoragebucket.ProjectIDValidator(v); err != nil {
			return &ValidationError{Name: "project_id", err: fmt.Errorf(`ent: validator failed for field "BronzeGCPStorageBucket.project_id": %w`, err)}
		}
	}
	return nil
}

func (_u *BronzeGCPStorageBucketUpdateOne) sqlSave(ctx context.Context) (_node *BronzeGCPStorageBucket, err error) {
	if err := _u.check(); err != nil {
		return _node, err
	}
	_spec := sqlgraph.NewUpdateSpec(bronzegcpstoragebucket.Table, bronzegcpstoragebucket.Columns, sqlgraph.NewFieldSpec(bronzegcpstoragebucket.FieldID, field.TypeString))
	id, ok := _u.mutation.ID()
	if !ok {
		return nil, &ValidationError{Name: "id", err: errors.New(`ent: missing "BronzeGCPStorageBucket.id" for update`)}
	}
	_spec.Node.ID.Value = id
	if fields := _u.fields; len(fields) > 0 {
		_spec.Node.Columns = make([]string, 0, len(fields))
		_spec.Node.Columns = append(_spec.Node.Columns, bronzegcpstoragebucket.FieldID)
		for _, f := range fields {
			if !bronzegcpstoragebucket.ValidColumn(f) {
				return nil, &ValidationError{Name: f, err: fmt.Errorf("ent: invalid field %q for query", f)}
			}
			if f != bronzegcpstoragebucket.FieldID {
				_spec.Node.Columns = append(_spec.Node.Columns, f)
			}
		}
	}
	if ps := _u.mutation.predicates; len(ps) > 0 {
		_spec.Predicate = func(selector *sql.Selector) {
			for i := range ps {
				ps[i](selector)
			}
		}
	}
	if value, ok := _u.mutation.CollectedAt(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldCollectedAt, field.TypeTime, value)
	}
	if value, ok := _u.mutation.Name(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldName, field.TypeString, value)
	}
	if value, ok := _u.mutation.Location(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldLocation, field.TypeString, value)
	}
	if _u.mutation.LocationCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldLocation, field.TypeString)
	}
	if value, ok := _u.mutation.StorageClass(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldStorageClass, field.TypeString, value)
	}
	if _u.mutation.StorageClassCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldStorageClass, field.TypeString)
	}
	if value, ok := _u.mutation.ProjectNumber(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldProjectNumber, field.TypeString, value)
	}
	if _u.mutation.ProjectNumberCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldProjectNumber, field.TypeString)
	}
	if value, ok := _u.mutation.TimeCreated(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldTimeCreated, field.TypeString, value)
	}
	if _u.mutation.TimeCreatedCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldTimeCreated, field.TypeString)
	}
	if value, ok := _u.mutation.Updated(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldUpdated, field.TypeString, value)
	}
	if _u.mutation.UpdatedCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldUpdated, field.TypeString)
	}
	if value, ok := _u.mutation.DefaultEventBasedHold(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldDefaultEventBasedHold, field.TypeBool, value)
	}
	if value, ok := _u.mutation.Metageneration(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldMetageneration, field.TypeString, value)
	}
	if _u.mutation.MetagenerationCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldMetageneration, field.TypeString)
	}
	if value, ok := _u.mutation.Etag(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldEtag, field.TypeString, value)
	}
	if _u.mutation.EtagCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldEtag, field.TypeString)
	}
	if value, ok := _u.mutation.IamConfigurationJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldIamConfigurationJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedIamConfigurationJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldIamConfigurationJSON, value)
		})
	}
	if _u.mutation.IamConfigurationJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldIamConfigurationJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.EncryptionJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldEncryptionJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedEncryptionJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldEncryptionJSON, value)
		})
	}
	if _u.mutation.EncryptionJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldEncryptionJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.LifecycleJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldLifecycleJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedLifecycleJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldLifecycleJSON, value)
		})
	}
	if _u.mutation.LifecycleJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldLifecycleJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.VersioningJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldVersioningJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedVersioningJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldVersioningJSON, value)
		})
	}
	if _u.mutation.VersioningJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldVersioningJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.RetentionPolicyJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldRetentionPolicyJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedRetentionPolicyJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldRetentionPolicyJSON, value)
		})
	}
	if _u.mutation.RetentionPolicyJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldRetentionPolicyJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.LoggingJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldLoggingJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedLoggingJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldLoggingJSON, value)
		})
	}
	if _u.mutation.LoggingJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldLoggingJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.CorsJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldCorsJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedCorsJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldCorsJSON, value)
		})
	}
	if _u.mutation.CorsJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldCorsJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.WebsiteJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldWebsiteJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedWebsiteJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldWebsiteJSON, value)
		})
	}
	if _u.mutation.WebsiteJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldWebsiteJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.AutoclassJSON(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldAutoclassJSON, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedAutoclassJSON(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, bronzegcpstoragebucket.FieldAutoclassJSON, value)
		})
	}
	if _u.mutation.AutoclassJSONCleared() {
		_spec.ClearField(bronzegcpstoragebucket.FieldAutoclassJSON, field.TypeJSON)
	}
	if value, ok := _u.mutation.ProjectID(); ok {
		_spec.SetField(bronzegcpstoragebucket.FieldProjectID, field.TypeString, value)
	}
	if _u.mutation.LabelsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   bronzegcpstoragebucket.LabelsTable,
			Columns: []string{bronzegcpstoragebucket.LabelsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(bronzegcpstoragebucketlabel.FieldID, field.TypeInt),
			},
		}
		edge.Schema = _u.schemaConfig.BronzeGCPStorageBucketLabel
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedLabelsIDs(); len(nodes) > 0 && !_u.mutation.LabelsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   bronzegcpstoragebucket.LabelsTable,
			Columns: []string{bronzegcpstoragebucket.LabelsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(bronzegcpstoragebucketlabel.FieldID, field.TypeInt),
			},
		}
		edge.Schema = _u.schemaConfig.BronzeGCPStorageBucketLabel
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.LabelsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   bronzegcpstoragebucket.LabelsTable,
			Columns: []string{bronzegcpstoragebucket.LabelsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(bronzegcpstoragebucketlabel.FieldID, field.TypeInt),
			},
		}
		edge.Schema = _u.schemaConfig.BronzeGCPStorageBucketLabel
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	_spec.Node.Schema = _u.schemaConfig.BronzeGCPStorageBucket
	ctx = internal.NewSchemaConfigContext(ctx, _u.schemaConfig)
	_node = &BronzeGCPStorageBucket{config: _u.config}
	_spec.Assign = _node.assignValues
	_spec.ScanValues = _node.scanValues
	if err = sqlgraph.UpdateNode(ctx, _u.driver, _spec); err != nil {
		if _, ok := err.(*sqlgraph.NotFoundError); ok {
			err = &NotFoundError{bronzegcpstoragebucket.Label}
		} else if sqlgraph.IsConstraintError(err) {
			err = &ConstraintError{msg: err.Error(), wrap: err}
		}
		return nil, err
	}
	_u.mutation.done = true
	return _node, nil
}
